<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign Up | Lumina</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="styles.css" />
    <script src="https://unpkg.com/lucide@latest"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              brand: {
                50: "#F4F4F5",
                100: "#E4E4E7",
                900: "#18181B",
              },
            },
          },
        },
      };
    </script>
  </head>
  <body class="text-zinc-900 antialiased min-h-screen flex flex-col bg-zinc-50">
    <!-- Navigation -->
    <nav
      class="sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-zinc-200"
    >
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16 items-center">
          <div
            class="flex items-center cursor-pointer"
            onclick="window.location.href = 'index.html'"
          >
            <div class="bg-zinc-900 text-white p-1.5 rounded-lg mr-2">
              <i data-lucide="briefcase" class="w-5 h-5"></i>
            </div>
            <span class="font-bold text-xl tracking-tight">Lumina</span>
          </div>
          <div class="text-sm text-zinc-600">
            Already Registered?
            <a
              onclick="Utils.openAuthModal('login')"
              class="text-zinc-900 font-semibold hover:underline ml-1 cursor-pointer"
              >Login here</a
            >
          </div>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="flex-grow py-12 px-4">
      <div class="max-w-6xl mx-auto">
        <div class="grid lg:grid-cols-12 gap-8">
          <!-- Left Sidebar - Benefits -->
          <div class="lg:col-span-4">
            <div
              class="bg-white rounded-2xl p-8 border border-zinc-200 shadow-sm sticky top-24"
            >
              <div class="mb-6">
                <div class="w-32 h-32 mx-auto mb-6">
                  <svg viewBox="0 0 200 200" class="w-full h-full">
                    <circle cx="100" cy="100" r="80" fill="#F4F4F5" />
                    <path
                      d="M100 50 L100 90 M80 110 Q100 130 120 110"
                      stroke="#18181B"
                      stroke-width="4"
                      fill="none"
                      stroke-linecap="round"
                    />
                    <circle cx="85" cy="80" r="5" fill="#18181B" />
                    <circle cx="115" cy="80" r="5" fill="#18181B" />
                  </svg>
                </div>
                <h3 class="text-xl font-bold text-zinc-900 text-center mb-2">
                  On registering, you can
                </h3>
              </div>

              <ul class="space-y-4">
                <li class="flex items-start gap-3">
                  <div
                    class="w-5 h-5 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0 mt-0.5"
                  >
                    <i data-lucide="check" class="w-3 h-3 text-white"></i>
                  </div>
                  <span class="text-sm text-zinc-700"
                    >Build your profile and let recruiters find you</span
                  >
                </li>
                <li class="flex items-start gap-3">
                  <div
                    class="w-5 h-5 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0 mt-0.5"
                  >
                    <i data-lucide="check" class="w-3 h-3 text-white"></i>
                  </div>
                  <span class="text-sm text-zinc-700"
                    >Get job postings delivered right to your email</span
                  >
                </li>
                <li class="flex items-start gap-3">
                  <div
                    class="w-5 h-5 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0 mt-0.5"
                  >
                    <i data-lucide="check" class="w-3 h-3 text-white"></i>
                  </div>
                  <span class="text-sm text-zinc-700"
                    >Find a job and grow your career</span
                  >
                </li>
              </ul>
            </div>
          </div>

          <!-- Right Side - Form -->
          <div class="lg:col-span-8">
            <div
              class="bg-white rounded-2xl p-8 border border-zinc-200 shadow-sm"
            >
              <div class="mb-8">
                <h2 class="text-2xl font-bold text-zinc-900">
                  Create your Lumina profile
                </h2>
                <p class="text-sm text-zinc-500 mt-1">
                  Search & apply to jobs from world-class companies
                </p>
              </div>

              <!-- Role Selection Cards -->
              <div class="mb-8">
                <label class="block text-sm font-semibold text-zinc-700 mb-3"
                  >I am a*</label
                >
                <div class="grid grid-cols-2 gap-4">
                  <label class="cursor-pointer">
                    <input
                      type="radio"
                      name="userType"
                      value="seeker"
                      checked
                      class="peer sr-only"
                      onchange="switchRole('seeker')"
                    />
                    <div
                      class="p-4 border-2 border-zinc-200 rounded-xl peer-checked:border-zinc-900 peer-checked:bg-zinc-50 transition hover:border-zinc-400"
                    >
                      <div class="flex items-center gap-3">
                        <i data-lucide="user" class="w-5 h-5 text-zinc-700"></i>
                        <div>
                          <div class="font-bold text-zinc-900">Job Seeker</div>
                          <div class="text-xs text-zinc-500">
                            Looking for opportunities
                          </div>
                        </div>
                      </div>
                    </div>
                  </label>
                  <label class="cursor-pointer">
                    <input
                      type="radio"
                      name="userType"
                      value="employer"
                      class="peer sr-only"
                      onchange="switchRole('employer')"
                    />
                    <div
                      class="p-4 border-2 border-zinc-200 rounded-xl peer-checked:border-zinc-900 peer-checked:bg-zinc-50 transition hover:border-zinc-400"
                    >
                      <div class="flex items-center gap-3">
                        <i
                          data-lucide="building-2"
                          class="w-5 h-5 text-zinc-700"
                        ></i>
                        <div>
                          <div class="font-bold text-zinc-900">Employer</div>
                          <div class="text-xs text-zinc-500">Hiring talent</div>
                        </div>
                      </div>
                    </div>
                  </label>
                </div>
              </div>

              <form
                id="auth-form"
                onsubmit="handleAuth(event)"
                class="space-y-6"
              >
                <!-- Full Name -->
                <div>
                  <label class="block text-sm font-semibold text-zinc-700 mb-2"
                    >Full name*</label
                  >
                  <input
                    name="name"
                    type="text"
                    required
                    class="w-full px-4 py-3 bg-white border border-zinc-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-zinc-900/20 focus:border-zinc-900 transition"
                    placeholder="What is your name?"
                  />
                </div>

                <!-- Email -->
                <div>
                  <label class="block text-sm font-semibold text-zinc-700 mb-2"
                    >Email ID*</label
                  >
                  <input
                    name="email"
                    type="email"
                    required
                    class="w-full px-4 py-3 bg-white border border-zinc-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-zinc-900/20 focus:border-zinc-900 transition"
                    placeholder="Tell us your Email ID"
                  />
                  <p class="text-xs text-zinc-500 mt-1">
                    We'll send relevant jobs and updates to this email
                  </p>
                </div>

                <!-- Password -->
                <div>
                  <label class="block text-sm font-semibold text-zinc-700 mb-2"
                    >Password*</label
                  >
                  <input
                    name="password"
                    type="password"
                    required
                    minlength="6"
                    class="w-full px-4 py-3 bg-white border border-zinc-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-zinc-900/20 focus:border-zinc-900 transition"
                    placeholder="(Minimum 6 characters)"
                  />
                  <p class="text-xs text-zinc-500 mt-1">
                    This helps your account stay protected
                  </p>
                </div>

                <!-- Job Seeker Specific Fields -->
                <div id="seeker-fields">
                  <!-- Work Status -->
                  <div>
                    <label
                      class="block text-sm font-semibold text-zinc-700 mb-3"
                      >Work status*</label
                    >
                    <div class="grid grid-cols-2 gap-4">
                      <label class="cursor-pointer">
                        <input
                          type="radio"
                          name="workStatus"
                          value="experienced"
                          checked
                          class="peer sr-only"
                        />
                        <div
                          class="p-4 border-2 border-zinc-200 rounded-xl peer-checked:border-zinc-900 peer-checked:bg-zinc-50 transition hover:border-zinc-400"
                        >
                          <div class="flex gap-3">
                            <i
                              data-lucide="briefcase"
                              class="w-5 h-5 text-zinc-700 flex-shrink-0"
                            ></i>
                            <div>
                              <div class="font-bold text-sm text-zinc-900">
                                I'm experienced
                              </div>
                              <div class="text-xs text-zinc-500 mt-1">
                                I have work experience (excluding internships)
                              </div>
                            </div>
                          </div>
                        </div>
                      </label>
                      <label class="cursor-pointer">
                        <input
                          type="radio"
                          name="workStatus"
                          value="fresher"
                          class="peer sr-only"
                        />
                        <div
                          class="p-4 border-2 border-zinc-200 rounded-xl peer-checked:border-zinc-900 peer-checked:bg-zinc-50 transition hover:border-zinc-400"
                        >
                          <div class="flex gap-3">
                            <i
                              data-lucide="graduation-cap"
                              class="w-5 h-5 text-zinc-700 flex-shrink-0"
                            ></i>
                            <div>
                              <div class="font-bold text-sm text-zinc-900">
                                I'm a fresher
                              </div>
                              <div class="text-xs text-zinc-500 mt-1">
                                I am a student/ Haven't worked after graduation
                              </div>
                            </div>
                          </div>
                        </div>
                      </label>
                    </div>
                  </div>

                  <!-- Professional Headline -->
                  <div class="mt-6">
                    <label
                      class="block text-sm font-semibold text-zinc-700 mb-2"
                      >Professional headline*</label
                    >
                    <input
                      name="extraField"
                      type="text"
                      required
                      class="w-full px-4 py-3 bg-white border border-zinc-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-zinc-900/20 focus:border-zinc-900 transition"
                      placeholder="e.g. Senior Product Designer"
                    />
                  </div>
                </div>

                <!-- Employer Specific Fields -->
                <div id="employer-fields" class="hidden">
                  <!-- Company Name -->
                  <div>
                    <label
                      class="block text-sm font-semibold text-zinc-700 mb-2"
                      >Company name*</label
                    >
                    <input
                      id="employer-extra-field"
                      name="extraField"
                      type="text"
                      class="w-full px-4 py-3 bg-white border border-zinc-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-zinc-900/20 focus:border-zinc-900 transition"
                      placeholder="e.g. Acme Corp"
                    />
                  </div>

                  <!-- Company Size -->
                  <div class="mt-6">
                    <label
                      class="block text-sm font-semibold text-zinc-700 mb-3"
                      >Company size</label
                    >
                    <select
                      name="companySize"
                      class="w-full px-4 py-3 bg-white border border-zinc-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-zinc-900/20 focus:border-zinc-900 transition"
                    >
                      <option value="">Select size</option>
                      <option value="1-10">1-10 employees</option>
                      <option value="11-50">11-50 employees</option>
                      <option value="51-200">51-200 employees</option>
                      <option value="201-500">201-500 employees</option>
                      <option value="500+">500+ employees</option>
                    </select>
                  </div>
                </div>

                <input
                  type="hidden"
                  name="role"
                  id="role-input"
                  value="seeker"
                />

                <!-- Terms -->
                <div class="pt-4">
                  <p class="text-xs text-zinc-500">
                    By clicking Register, you agree to the
                    <a
                      href="#"
                      class="text-zinc-900 font-semibold hover:underline"
                      >Terms and Conditions</a
                    >
                    &
                    <a
                      href="#"
                      class="text-zinc-900 font-semibold hover:underline"
                      >Privacy Policy</a
                    >
                    of Lumina.com
                  </p>
                </div>

                <button
                  type="submit"
                  class="w-full py-3.5 bg-zinc-900 text-white rounded-lg font-bold hover:bg-zinc-800 transition shadow-lg shadow-zinc-200/50 text-base"
                >
                  Register now
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Footer -->

    <!-- Authentication Modal (Slide-in from right) -->
    <div id="auth-modal" class="hidden fixed inset-0 z-[100] overflow-hidden">
      <!-- Overlay -->
      <div
        onclick="Utils.closeAuthModal()"
        class="modal-overlay absolute inset-0 bg-black/50 backdrop-blur-sm opacity-0 transition-opacity duration-300"
      ></div>

      <!-- Modal Panel -->
      <div
        class="modal-panel absolute right-0 top-0 h-full w-full sm:w-96 md:w-[450px] bg-white shadow-2xl transform translate-x-full transition-transform duration-300 ease-out overflow-y-auto"
      >
        <!-- Close Button -->
        <button
          onclick="Utils.closeAuthModal()"
          class="absolute top-4 right-4 w-8 h-8 flex items-center justify-center rounded-full hover:bg-zinc-100 transition z-10"
        >
          <i data-lucide="x" class="w-5 h-5 text-zinc-600"></i>
        </button>

        <!-- Modal Content -->
        <div class="p-8 pt-16">
          <div class="text-center mb-8">
            <h2 class="text-2xl font-bold text-zinc-900">Welcome back</h2>
            <p class="text-zinc-500 text-sm mt-2">
              Enter your details to access your account.
            </p>
          </div>

          <!-- Auth Form -->
          <form
            id="modal-auth-form"
            onsubmit="handleModalAuth(event)"
            class="space-y-4"
          >
            <!-- Email -->
            <div>
              <label
                class="block text-xs font-semibold text-zinc-500 uppercase tracking-wider mb-1"
                >Email Address</label
              >
              <input
                name="email"
                type="email"
                required
                class="w-full px-4 py-3 bg-zinc-50 border border-zinc-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-zinc-900/20 focus:border-zinc-900 transition"
                placeholder="you@example.com"
              />
            </div>

            <!-- Password -->
            <div>
              <label
                class="block text-xs font-semibold text-zinc-500 uppercase tracking-wider mb-1"
                >Password</label
              >
              <input
                name="password"
                type="password"
                required
                class="w-full px-4 py-3 bg-zinc-50 border border-zinc-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-zinc-900/20 focus:border-zinc-900 transition"
                placeholder="••••••••"
              />
            </div>

            <button
              type="submit"
              class="w-full py-3 bg-zinc-900 text-white rounded-lg font-bold hover:bg-zinc-800 transition shadow-lg shadow-zinc-200/50 mt-6"
            >
              Sign In
            </button>
          </form>

          <div class="mt-6 text-center text-sm text-zinc-500">
            <span>Don't have an account?</span>
            <a
              onclick="Utils.closeAuthModal()"
              class="text-zinc-900 font-semibold cursor-pointer hover:underline ml-1"
              >Sign up</a
            >
          </div>
        </div>
      </div>
    </div>

    <!-- Toast Notification -->
    <div
      id="toast"
      class="fixed bottom-5 right-5 bg-zinc-900 text-white px-6 py-3 rounded-lg shadow-xl transform translate-y-20 opacity-0 transition-all duration-300 z-50 flex items-center gap-3"
    >
      <span id="toast-message">Notification</span>
    </div>

    <script src="store.js"></script>
    <script src="utils.js"></script>
    <script>
      function switchRole(role) {
        const seekerFields = document.getElementById("seeker-fields");
        const employerFields = document.getElementById("employer-fields");
        const roleInput = document.getElementById("role-input");
        const employerExtraField = document.getElementById(
          "employer-extra-field",
        );
        const seekerExtraField = document.querySelector(
          '#seeker-fields [name="extraField"]',
        );

        roleInput.value = role;

        if (role === "employer") {
          seekerFields.classList.add("hidden");
          employerFields.classList.remove("hidden");
          if (seekerExtraField) seekerExtraField.required = false;
          if (employerExtraField) employerExtraField.required = true;
        } else {
          seekerFields.classList.remove("hidden");
          employerFields.classList.add("hidden");
          if (seekerExtraField) seekerExtraField.required = true;
          if (employerExtraField) employerExtraField.required = false;
        }

        Utils.initIcons();
      }

      function handleAuth(event) {
        event.preventDefault();
        const form = event.target;
        const data = Utils.getFormData(form);

        try {
          Store.register(
            data.name,
            data.email,
            data.password,
            data.role,
            data.extraField,
          );
          Utils.toast("Account created successfully!");

          // Redirect to appropriate dashboard
          const dashboardPage =
            Store.currentUser.role === "employer"
              ? "employer-dashboard.html"
              : "seeker-dashboard.html";
          setTimeout(() => Utils.navigate(dashboardPage), 1000);
        } catch (err) {
          Utils.toast(err.message);
        }
      }

      function handleModalAuth(event) {
        event.preventDefault();
        const form = event.target;
        const data = Utils.getFormData(form);

        try {
          Store.login(data.email, data.password);
          Utils.toast("Welcome back!");

          // Close modal and redirect
          Utils.closeAuthModal();
          const dashboardPage =
            Store.currentUser.role === "employer"
              ? "employer-dashboard.html"
              : "seeker-dashboard.html";
          setTimeout(() => Utils.navigate(dashboardPage), 500);
        } catch (err) {
          Utils.toast(err.message);
        }
      }

      // Initialize page
      document.addEventListener("DOMContentLoaded", () => {
        Store.init();
        Utils.redirectIfAuthenticated();
        Utils.initIcons();

        // Re-initialize icons when modal opens
        const observer = new MutationObserver(() => {
          Utils.initIcons();
        });
        const modal = document.getElementById("auth-modal");
        if (modal) {
          observer.observe(modal, {
            attributes: true,
            attributeFilter: ["class"],
          });
        }
      });
    </script>
  </body>
</html>
